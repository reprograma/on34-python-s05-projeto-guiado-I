from dataset_alunas import dataset

def main():
    print("\n---  Seja bem vinda a Escola do Reprograma!  ---")
    print("Sistema de informações de alunas")

    while True:
        cod_opcao = obter_opcao()

        if cod_opcao == 1: incluir_nova_aluna()
        elif cod_opcao == 2: consultar_lista_alunas()
        elif cod_opcao == 3: consultar_faltas_aluna()
        elif cod_opcao == 4: consultar_notas_aluna()
        elif cod_opcao == 5: consultar_status_aprovacao()
        elif cod_opcao == 6: print("Encerrando o programa..."); break



def obter_opcao():
    codigo_opcao = 0

    while codigo_opcao not in [1, 2, 3, 4, 5]:
        try:
            codigo_opcao = int(input("\nEscolha uma opção:\n"
                                    "1 - Incluir uma nova aluna\n"
                                    "2 - Consultar lista de alunas\n"
                                    "3 - Consultar faltas da aluna\n"
                                    "4 - Consultar notas da aluna\n"
                                    "5 - Consultar status de aprovação\n"
                                    "6 - Sair do sistema\n"
                                    "Opção: "))

            if codigo_opcao not in [1, 2, 3, 4, 5]:
                print("Opção inválida. Por favor, escolha uma opção válida (1 a 5).\n")
        except ValueError:
            print("Entrada inválida. Por favor, digite um número inteiro.\n")

        return codigo_opcao

def incluir_nova_aluna():
    pass
    print("Inserir os seguintes dados: ")
    nome = input("Nome da aluna: ")
    sobrenome = input("Sobrenome da aluna: ")
    turma = input("Turma da aluna: ")
    lista_presenca = eval(input("Presença da aluna(entre colchetes, ex: [True, False, False]): "))
    nota_participacao = float(input("Participação da aluna: "))
    try:
     notas = obter_notas()
     print("Aluna adicionada com sucesso")
    except ValueError:
        print("Entrada inválida. Por favor, insira um número válido.")

 #salvar_dados_aluna(nome, turma, sobrenome, notas, lista_presenca, nota_participacao)

def consultar_lista_alunas():
    pass

    for nome in dataset:
     print(f"Nome: {nome}")

def consultar_faltas_aluna():

    print("Inserir os seguintes dados: ")
    nome = input("Nome da aluna: ")
    sobrenome = input("Sobrenome da aluna: ")
    qtd_faltas = dataset[(nome, sobrenome)]["Presença"].count(False)
    if qtd_faltas > 2:
     print ("Reprovada")
    else:
     print ("Aprovada")

def consultar_notas_aluna():
    print("Inserir os seguintes dados: ")
    nome = input("Nome da aluna: ")
    sobrenome = input("Sobrenome da aluna: ")
    quantidade_notas = input("Quantidade de notas: ")
    notas = dataset[(nome, sobrenome)]["Notas"]
    print(f"A aluna {nome, sobrenome} possui as notas {dataset[(nome, sobrenome)]['Notas']}.")
    
def consultar_status_aprovacao():
    print("Inserir os seguintes dados: ")
    nome = input("Nome da aluna: ")
    sobrenome = input("Sobrenome da aluna: ") 
    quantidade_notas = input("Quantidade de notas: ")
    nota1  = float(input("Qual é a nota: ?"))   
    nota2 = float(input("Qual é a nota: ?"))
    nota3 = float(input("Qual é a nota: ?"))
    notas = dataset[(nome, sobrenome)]["Notas"]
    media_das_notas = float(sum(notas)/len(notas))
    print(float(media_das_notas))
    qtd_faltas = dataset[(nome, sobrenome)]["Presença"].count(False)
    if media_das_notas >= 6 and qtd_faltas <= 20: # mininmo de faltas 20 de 80
       status = "Aprovada"
    elif media_das_notas < 5:
         status = "Recuperação"
    else:
        status = "Reprovada"

    print(f"A aluna: {nome, sobrenome}, Média: {media_das_notas} está {status}.")
   

main()
